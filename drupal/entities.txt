EntityDrupalWrapper - entity wrapped up
EntityListWrapper - array of wrappers (multivalue field/property)
EntityStructureWrapper - wraps anything that isn't an entity and
    has more than one property.
EntityValueWrapper - wraps a single value

class hierarchy
---------------
class                               interfaces
EntityMetadataWrapper
    EntityStructureWrapepr          IteratorAggregate
        EntityDrupalWrapper
    EntityListWrapper               IteratorAggregate, ArrayAccess, Countable
    EntityValueWrapper

interface hierarchy
-------------------        
Travesable
    ItaratorAggragate
        

Core entities
*************
CRUD

entity_create                   entity_metadata_wrapper($type, $data)
entity_load                     entity_metadata_wrapper($type, $id)
entity_load_single
entity_save                     $wrapper->save()
entity_delete                   $wrapper->delete()
entity_delete_multiple


comment
*******
fieldable

CRUD
comment_load
comment_save
comment_delete

Property wrapping
-----------------
comment_schema() - schema['comment']
entity_metadata_comment_entity_property_info()
entity_metadata_comment_entity_property_info_alter()
entity_get_property_info('comment')

entity property                 wrapper property            wrapper class
cid                             cid                         Value
pid                             parent                      Drupal (comment)
nid                             node                        Drupal (node)
uid                             author                      Drupal (user)
subject                         subject                     Value
hostname                        hostname                    Value
created                         created                     Value
changed                         -                           -
status                          status                      Value
thread                          -                           Value
name                            name                        Value
mail                            mail                        Value
homepage                        homepage                    Value
language                        -                           -
-                               url                         Value
-                               edit_url                    Value


file
*****
non-fieldable

CRUD

file_load
file_save
file_delete
file_copy
file_move
...

Property wrapping
-----------------
system_schema() - schema['file_managed']
entity_metadata_system_entity_property_info()
entity_metadata_system_entity_property_info_alter()
entity_get_property_info('file')

entity property                 wrapper property            wrapper class
fid                             fid                         Value
uid                             owner (user wrapper)        Drupal
filename                        name                        Value
uri                             -                           -
filemime                        mime                        Value
filesize                        size                        Value
status                          -                           -
timestamp                       timestamp                   Value
-                               url                         Value


node
****
fieldable

CRUD
node_load
node_save
node_delete

Property wrapping
-----------------
node_schema() - schema['node']
entity_metadata_node_entity_property_info()
entity_metadata_node_entity_property_info_alter()
entity_get_property_info('node')

entity property                 wrapper property            wrapper class
nid                             nid                         Value
vid                             vid                         Value
-                               is_new                      Value
type                            type                        Value
language                        language                    Value
title                           title                       Value
-                               url                         Value
-                               edit_url                    Value
uid                             author                      Drupal (user)
status                          status                      Value
created                         created                     Value
changed                         changed                     Value
comment                         -                           -
promote                         promote                     Value
sticky                          sticky                      Value
tnid                            -                           -
translate                       -                           -
-                               source                      Drupal (node)
-                               log                         Value
-                               revision                    Value
-                               comment                     Value
-                               comment_count               Value
-                               comment_count_new           Value


taxonomy_term
*************
fieldable

CRUD
taxonomy_term_load
taxonomy_term_save
taxonomy_term_delete

Property wrapping
-----------------
taxonomy_schema() - schema['taxonomy_term_data']
entity_metadata_taxonomy_entity_property_info()
entity_metadata_taxonomy_entity_property_info_alter()
entity_get_property_info('taxonomy_term')

entity property                 wrapper property            wrapper class
tid                             tid                         Value
vid                             vocabulary                  Drupal (vocabulary)
name                            name                        Value
description                     description                 Value
format                          -                           -
weight                          weight                      Value
-                               url                         Value
-                               node_count                  Value
-                               parent                      List   (terms)
-                               parents_all                 List   (terms)


taxonomy_vocabulary
*******************
non-fieldable

CRUD
taxonomy_vocabulary_load
taxonomy_vocabulary_save
taxonomy_vocabulary_delete

Property wrapping
-----------------
taxonomy_schema() - schema['taxonomy_vocabulary']
entity_metadata_taxonomy_entity_property_info()
entity_metadata_taxonomy_entity_property_info_alter()
entity_get_property_info('taxonomy_vocabulary')

entity property                 wrapper property            wrapper class
vid                             vid                         Value
name                            name                        Value
machine_name                    machine_name                Value
description                     description                 Value
hierachy                        -                           -
module                          -                           -
weight                          -                           -
-                               term_count                  Value


user
****
fieldable

CRUD
user_load
user_save
user_delete

Property wrapping
-----------------
user_schema() - schema['users']
entity_metadata_user_entity_property_info()
entity_metadata_user_entity_property_info_alter()
entity_get_property_info('user')

entity property                 wrapper property            wrapper class
uid                             uid                         Value
name                            name                        Value
pass                            -                           -
mail                            mail                        Value
theme                           theme                       Value
signature                       -                           -
signature_format                -                           -
created                         created                     Value
access                          last_access                 Value
login                           last_login                  Value
status                          status                      Value
timezone                        -                           -
language                        -                           -
picture                         -                           -
init                            -                           -
data                            -                           -
-                               url                         Value
-                               edit_url                    Value
-                               roles                       List


Core fields
***********

Core field types
* - example name of field attached to entity/bundle. 

If a field is attached to an entity, that the field is represented by a <field>
property in the entity object. The <field> property is an array of of its own
properties. These properties are presented below.
For example, create a node with fields of various types and see result of
node_load(). See also See pde_03, pde_04, pde_05 on branch 'chapter_05'

Boolean
*******

Property wrapping (cardinality 1)
-----------------
field property                  wrapper property            wrapper class
*field_boolean                  field_boolean               Value
und-0-value                     ^


Decimal
*******

Property wrapping (cardinality 1)
-----------------
field property                  wrapper property            wrapper class
*field_decimal                  field_decimal               Value
und-0-value                     ^

Property wrapping (cardinality N+1)
-----------------
field_decimal property representing the field in an entity wrapper is now 
of type EntityListWrapper and contains a list of EntityValueWrappers
representing field_decimal of cardinality 1 (see above) 

field property                  wrapper property            wrapper class
*field_decimal                  field_decimal               List
und-0-value                     0                           Value
und-1-value                     1                           Value
...                             ...                         ...
und-N-value                     N                           Value


File (e.g. field_file)
****
A file field attached to an entity is represented in the entity object as an
array of properties related to File entity and some additional properties. The
file field wrapper wraps the File entity properties in 'file' property
(object of EntityDrupalWrapper class). The remaining properties have individual
wrappers.  

Property wrapping (cardinality 1)
-----------------
field property                  wrapper property            wrapper class
*field_file                     field_file                  Structure (F1)
und-0-fid                       file                        Drupal (File entity)
und-0-uid                       ^
...                             ^
und-0-display                   display                     Value
und-0-description               description                 Value


Property wrapping (cardinality N+1)
-----------------
field_decimal property representing the field in an entity wrapper is now 
of type EntityListWrapper and contains a list of EntityStructureWrappers
representing field_file of cardinality 1 (see above) 

field property                  wrapper property            wrapper class
*field_file                     field_file                  List
und-0-...                       0                           Structure (see F1 above)
und-1-...                       1                           Structure (see F1 above)
...                             ...                         ...
und-N-...                       N                           Structure (see F1 above)


Float
*****

Property wrapping (cardinality 1)
-----------------
field property                  wrapper property            wrapper class
*field_float                    field_float               Value
und-0-value                     ^

Property wrapping (cardinality N+1)
-----------------
field_float property representing the field in an entity wrapper is now 
of type EntityListWrapper and contains a list of EntityValueWrappers
representing field_float of cardinality 1 (see above) 

field property                  wrapper property            wrapper class
*field_float                    field_float                 List
und-0-value                     0                           Value
und-1-value                     1                           Value
...                             ...                         ...
und-N-value                     N                           Value


Image (e.g. field_image)
*****

Property wrapping (cardinality 1)
-----------------
field property                  wrapper property            wrapper class
*field_image                    field_image                 Structure (F2)
und-0-fid                       file                        Drupal (File entity)
und-0-uid                       ^
...                             ^
und-0-alt                       alt                         Value
und-0-title                     -                           -
und-0-width                     -                           -
und-0-height                    -                           -

Property wrapping (cardinality N+1)
-----------------
field property                  wrapper property            wrapper class
*field_image                    field_image                 List
und-0-...                       0                           Structure (see F2 above)
und-1-...                       1                           Structure (see F2 above)
...                             ...                         ...
und-N-...                       N                           Structure (see F2 above)


Integer
*******

Property wrapping (cardinality 1)
-----------------
field property                  wrapper property            wrapper class
*field_integer                  field_integer               Value
und-0-value                     ^

Property wrapping (cardinality N+1)
-----------------
field_integer property representing the field in an entity wrapper is now 
of type EntityListWrapper and contains a list of EntityValueWrappers
representing field_integer of cardinality 1 (see above) 

field property                  wrapper property            wrapper class
*field_integer                  field_integer               List
und-0-value                     0                           Value
und-1-value                     1                           Value
...                             ...                         ...
und-N-value                     N                           Value


List (float, integer, text) (e.g. field_list)
***************************

Property wrapping (cardinality 1)
-----------------
field property                  wrapper property            wrapper class
*field_list                     field_list                  Value
und-0-value                     ^

Property wrapping (cardinality N < number of elements in the list)
-----------------
field_list property representing the field in an entity wrapper is now 
of type EntityListWrapper and contains a list of EntityValueWrappers
representing field_list of cardinality 1 (see above) 

field property                  wrapper property            wrapper class
*field_list                     field_list                  List
und-0-value                     0                           Value
und-1-value                     1                           Value
...                             ...                         ...
und-N-value                     N                           Value


Long_text (e.g. field_ltext)
*********

Property wrapping (cardinality 1)
-----------------
field property                  wrapper property            wrapper class
*field_ltext                    field_ltext                 Structure (F3)
und-0-value                     value                       Value
und-0-format                    format                      Value
und-0-safe_value                -                           -

Property wrapping (cardinality N+1)
-----------------
field_ltext property representing the field in an entity wrapper is now 
of type EntityListWrapper and contains a list of EntityValueWrappers
representing field_ltext of cardinality 1 (see above)

field property                  wrapper property            wrapper class
*field_ltext                    field_ltext                 List
und-0-...                       0                           Structure (see F3 above)
und-1-...                       1                           Structure (see F3 above)
...                             ...                         ...
und-N-...                       N                           Structure (see F3 above)


Long text and summary (e.g. field_body) 
*********************

Property wrapping (cardinality 1)
-----------------
field property                  wrapper property            wrapper class
*field_body                     field_body                  Structure (F4)
und-0-value                     value                       Value
und-0-summary                   summary                     Value
und-0-format                    format                      Value
und-0-safe_value                -                           -
und-0-safe_summary              -                           -

Property wrapping (cardinality N+1)
-----------------
field property                  wrapper property            wrapper class
*field_body                     field_body                  List
und-0-...                       0                           Structure (see F4 above)
und-1-...                       1                           Structure (see F4 above)
...                             ...                         ...
und-N-...                       N                           Structure (see F4 above)


Term reference (e.g. field_term)
**************

Property wrapping (cardinality 1)
-----------------
field property                  wrapper property            wrapper class
*field_term                     field_term                  Drupal (F5 Term entity)
und-0-tid                       ^

Property wrapping (cardinality N+1)
-----------------
field property                  wrapper property            wrapper class
*field_term                     field_term                  List
und-0-tid                       0                           Drupal (see F5 above)
und-1-tid                       1                           Drupal (see F5 above)
...                             ...                         ...
und-N-tid                       N                           Drupal (see F5 above)


Text (e.g. field_text)
****

Property wrapping (cardinality 1)
-----------------
field property                  wrapper property            wrapper class
*field_text                     field_text                  Structure (F6)
und-0-value                     value                       Value
und-0-format                    format                      Value
und-0-safe_value                -                           -

Property wrapping (cardinality N+1)
-----------------
field_text property representing the field in an entity wrapper is now 
of type EntityListWrapper and contains a list of EntityValueWrappers
representing field_text of cardinality 1 (see above)

field property                  wrapper property            wrapper class
*field_text                     field_text                  List
und-0-...                       0                           Structure (see F6 above)
und-1-...                       1                           Structure (see F6 above)
...                             ...                         ...
und-N-...                       N                           Structure (see F6 above)


Contributed field types
***********************

link (link module)
****

Property wrapping (cardinality 1)
-----------------
field property                  wrapper property            wrapper class
*field_link                     field_link                  Structure (F7)
und-0-url                       url                         Value
und-0-title                     title                       Value
und-0-attributes                -                           -

Property wrapping (cardinality N+1)
-----------------
field property                  wrapper property            wrapper class
*field_link                     field_link                  List
und-0-...                       0                           Structure (see F7 above)
und-1-...                       1                           Structure (see F7 above)
...                             ...                         ...
und-N-...                       N                           Structure (see F7 above)


date (date module)
****
Property wrapping (cardinality 1)
-----------------
field property                  wrapper property            wrapper class
*field_date                     field_date                  Structure (F8)
und-0-value                     value                       Value
und-0-value2                    value2                      Value
und-0-timezone                  -                           -
und-0-timezone_bd               -                           -
und-0-datetype                  -                           -
-                               duration                    Value

Property wrapping (cardinality N+1)
-----------------
field property                  wrapper property            wrapper class
*field_date                     field_date                  List
und-0-...                       0                           Structure (see F8 above)
und-1-...                       1                           Structure (see F8 above)
...                             ...                         ...
und-N-...                       N                           Structure (see F8 above)

